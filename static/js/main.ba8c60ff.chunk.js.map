{"version":3,"sources":["hooks/useForm.js","utils/setAuthToken.js","store/actions/user.js","store/actions/actionTypes.js","components/LoginForm/LoginForm.js","components/LoginForm/index.js","components/RegisterForm/RegisterForm.js","components/RegisterForm/index.js","components/Chat/index.js","components/Chat/Chat.js","store/reducers/user.js","store/reducers/index.js","App.js","index.js"],"names":["useForm","callback","validate","useState","values","setValues","errors","setErrors","isSubmitting","setIsSubmitting","useEffect","Object","keys","length","handleChange","name","value","handleSubmit","event","preventDefault","setServerErrors","serverErrors","setAuthToken","token","axios","defaults","headers","common","loadUser","dispatch","a","async","localStorage","get","res","type","payload","data","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","LoginForm","connect","props","classes","email","password","post","response","setItem","console","log","message","test","Container","component","maxWidth","CssBaseline","className","Avatar","Typography","variant","noValidate","onSubmit","FormControl","fullWidth","error","TextField","required","id","onChange","e","target","label","autoComplete","autoFocus","FormHelperText","CircularProgress","Button","color","Grid","container","item","to","RegisterForm","repeat_password","Chat","initialState","isAuthenticated","user","state","action","combineReducers","store","createStore","reducers","composeWithDevTools","applyMiddleware","thunk","App","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ba8c60ff.chunk.js","sourcesContent":["import { useState, useEffect } from \"react\";\nconst useForm = (callback, validate) => {\n\tconst [values, setValues] = useState({});\n\tconst [errors, setErrors] = useState({});\n\tconst [isSubmitting, setIsSubmitting] = useState(false);\n\tconst handleChange = (name, value) => {\n\t\tsetValues(values => (\n\t\t\t{\n\t\t\t\t...values,\n\t\t\t\t[name]: value\n\t\t\t}\n\t\t));\n\t\tsetErrors(errors => (\n\t\t\t{\n\t\t\t\t...errors,\n\t\t\t\t[name]: null\n\t\t\t}\n\t\t));\n\t};\n\tconst handleSubmit = event => {\n\t\tevent.preventDefault();\n\t\tsetErrors(validate(values));\n\t\tsetIsSubmitting(true);\n\t};\n\tconst setServerErrors = (serverErrors) => {\n\t\tsetErrors(errors => (\n\t\t\t{\n\t\t\t\t...errors,\n\t\t\t\t...serverErrors\n\t\t\t}\n\t\t));\n\t};\n\tuseEffect(() => {\n\t\tif (Object.keys(errors).length === 0 && isSubmitting) {\n\t\t\tcallback();\n\t\t}\n\t}, [errors]);\n\treturn {\n\t\thandleChange,\n\t\thandleSubmit,\n\t\tsetServerErrors,\n\t\tvalues,\n\t\terrors\n\t};\n};\nexport default useForm;","import axios from 'axios'\n\nconst setAuthToken = token => {\n\tif(token){\n\t\taxios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n\t}else{\n\n\t\tdelete axios.defaults.headers.common['Authorization']\n\t}\n}\n\nexport default setAuthToken","import {USER_LOGIN_SUCCESS, USER_LOGIN_FAIL} from \"./actionTypes\";\nimport setAuthToken from \"../../utils/setAuthToken\";\nimport axios from 'axios'\n\nconst loadUser = () => async dispatch => {\n\tif (localStorage.token) {\n\t\tsetAuthToken(localStorage.token)\n\t}\n\ttry {\n\t\tconst res = await axios.get('https://radiant-taiga-91549.herokuapp.com/users/me');\n\n\t\tdispatch({\n\t\t\ttype: USER_LOGIN_SUCCESS,\n\t\t\tpayload: res.data\n\t\t})\n\t} catch (e) {\n\t\tdispatch({\n\t\t\ttype: USER_LOGIN_FAIL\n\t\t})\n\n\t}\n}\n\nexport {\n\tloadUser\n}","export const USER_LOGIN_SUCCESS = \"USER_LOGIN_SUCCESS\";\nexport const USER_LOGIN_FAIL = \"USER_LOGIN_FAIL\";","import React, {useState} from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\n\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport useForm from \"../../hooks/useForm\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport axios from 'axios';\nimport {Link} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\nimport {loadUser} from \"../../store/actions/user\";\n\n\nconst useStyles = makeStyles(theme => ({\n\tpaper: {\n\t\tmarginTop: theme.spacing(8),\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\talignItems: 'center',\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n\tform: {\n\t\twidth: '100%', // Fix IE 11 issue.\n\t\tmarginTop: theme.spacing(1),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n}));\n\nconst LoginForm = (props) => {\n\tconst [isSubmitting, setIsSubmitting] = useState(false);\n\tconst classes = useStyles();\n\n\tconst validate = (values) => {\n\t\tconst emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\t\tconst errors = {};\n\n\t\tif (!values.email) {\n\t\t\terrors.email = 'Required';\n\t\t}\n\t\tif (values.email && !emailRegex.test(values.email)) {\n\t\t\terrors.email = 'Email is not valid';\n\t\t}\n\n\t\treturn errors;\n\t};\n\n\n\tconst submit = async () => {\n\t\tsetIsSubmitting(true);\n\t\tconst {email, password} = values;\n\t\ttry {\n\t\t\tconst response = await axios.post('https://radiant-taiga-91549.herokuapp.com/auth', {email, password})\n\t\t\tconst {data} = response;\n\t\t\tconst {token} = data;\n\t\t\tlocalStorage.setItem('token', token);\n\t\t\tprops.loadUser();\n\n\t\t\tsetIsSubmitting(false);\n\t\t}catch (e) {\n\t\t\tconsole.log(e);\n\t\t\tsetServerErrors({email:e.message});\n\t\t\tsetIsSubmitting(false);\n\t\t}\n\t}\n\n\tconst { handleChange, handleSubmit, values, errors, setServerErrors } = useForm(\n\t\tsubmit,\n\t\tvalidate,\n\t);\n\n\n\n\n\treturn (\n\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t<CssBaseline />\n\t\t\t<div className={classes.paper}>\n\t\t\t\t<Avatar className={classes.avatar}>\n\t\t\t\t</Avatar>\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\tSign in\n\t\t\t\t</Typography>\n\t\t\t\t<form className={classes.form} noValidate onSubmit={handleSubmit}>\n\t\t\t\t\t<FormControl fullWidth error={!!errors[\"email\"]}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\tonChange={(e) => handleChange(e.target.name, e.target.value)}\n\t\t\t\t\t\t\tlabel=\"Email Address\"\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\terror={!!errors[\"email\"]}\n\t\t\t\t\t\t\tvalue={values[\"email\"] ? values[\"email\"] : \"\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{errors[\"email\"] && <FormHelperText>{errors[\"email\"]}</FormHelperText>}\n\t\t\t\t\t</FormControl>\n\t\t\t\t\t<FormControl fullWidth error={!!errors[\"password\"]}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\terror={!!errors[\"password\"]}\n\t\t\t\t\t\t\tonChange={(e) => handleChange(e.target.name, e.target.value)}\n\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t\tvalue={values[\"password\"] ? values[\"password\"] : \"\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{errors[\"password\"] && <FormHelperText>{errors[\"password\"]}</FormHelperText>}\n\t\t\t\t\t</FormControl>\n\n\t\t\t\t\t{!isSubmitting ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSign In\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<CircularProgress />\n\t\t\t\t\t)}\n\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<Link to=\"/register\">\n\t\t\t\t\t\t\t\t{\"Don't have an account? Sign Up\"}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t</Container>\n\t);\n}\n\nexport default connect(\n\tnull,\n\t{loadUser}\n)(LoginForm)","import LoginForm from \"./LoginForm\";\n\nexport default LoginForm","import React, {useState} from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport useForm from \"../../hooks/useForm\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport axios from 'axios';\nimport {Link} from \"react-router-dom\";\n\n\nconst useStyles = makeStyles(theme => ({\n\tpaper: {\n\t\tmarginTop: theme.spacing(8),\n\t\tdisplay: 'flex',\n\t\tflexDirection: 'column',\n\t\talignItems: 'center',\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n\tform: {\n\t\twidth: '100%', // Fix IE 11 issue.\n\t\tmarginTop: theme.spacing(1),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n}));\n\nconst RegisterForm = () => {\n\tconst [isSubmitting, setIsSubmitting] = useState(false);\n\tconst classes = useStyles();\n\n\tconst validate = (values) => {\n\t\tconst emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\t\tconst errors = {};\n\n\t\tif (!values.email) {\n\t\t\terrors.email = 'Required';\n\t\t}\n\t\tif (values.email && !emailRegex.test(values.email)) {\n\t\t\terrors.email = 'Email is not valid';\n\t\t}\n\t\tif (!values.password) {\n\t\t\terrors.password = 'Required';\n\t\t}\n\t\tif (!values.repeat_password) {\n\t\t\terrors.repeat_password = 'Required';\n\t\t}\n\t\tif((values.password && values.repeat_password) && (values.password !== values.repeat_password)){\n\t\t\terrors.password = 'Passwords are different';\n\t\t\terrors.repeat_password = 'Passwords are different';\n\t\t}\n\n\n\t\treturn errors;\n\t};\n\n\n\tconst submit = async () => {\n\t\tsetIsSubmitting(true);\n\t\tconst {email, password} = values;\n\t\ttry {\n\t\t\tconst response = await axios.post('https://radiant-taiga-91549.herokuapp.com/users', {email, password})\n\t\t\tconst {data} = response;\n\t\t\tconst {token} = data;\n\n\t\t\tsetIsSubmitting(false);\n\t\t}catch (e) {\n\t\t\tconsole.log(e);\n\t\t\tsetServerErrors({email:e.message});\n\t\t\tsetIsSubmitting(false);\n\t\t}\n\t}\n\n\tconst { handleChange, handleSubmit, values, errors, setServerErrors } = useForm(\n\t\tsubmit,\n\t\tvalidate,\n\t);\n\n\n\n\treturn (\n\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t<CssBaseline />\n\t\t\t<div className={classes.paper}>\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\tSign Up\n\t\t\t\t</Typography>\n\t\t\t\t<form className={classes.form} noValidate onSubmit={handleSubmit}>\n\t\t\t\t\t<FormControl fullWidth error={!!errors[\"email\"]}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\tonChange={(e) => handleChange(e.target.name, e.target.value)}\n\t\t\t\t\t\t\tlabel=\"Email Address\"\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\terror={!!errors[\"email\"]}\n\t\t\t\t\t\t\tvalue={values[\"email\"] ? values[\"email\"] : \"\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{errors[\"email\"] && <FormHelperText>{errors[\"email\"]}</FormHelperText>}\n\t\t\t\t\t</FormControl>\n\t\t\t\t\t<FormControl fullWidth error={!!errors[\"password\"]}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\terror={!!errors[\"password\"]}\n\t\t\t\t\t\t\tonChange={(e) => handleChange(e.target.name, e.target.value)}\n\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t\tvalue={values[\"password\"] ? values[\"password\"] : \"\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{errors[\"password\"] && <FormHelperText>{errors[\"password\"]}</FormHelperText>}\n\t\t\t\t\t</FormControl>\n\t\t\t\t\t<FormControl fullWidth error={!!errors[\"repeat_password\"]}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tname=\"repeat_password\"\n\t\t\t\t\t\t\tlabel=\"Repeat password\"\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tid=\"repeat_password\"\n\t\t\t\t\t\t\terror={!!errors[\"repeat_password\"]}\n\t\t\t\t\t\t\tonChange={(e) => handleChange(e.target.name, e.target.value)}\n\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t\tvalue={values[\"repeat_password\"] ? values[\"repeat_password\"] : \"\"}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{errors[\"repeat_password\"] && <FormHelperText>{errors[\"repeat_password\"]}</FormHelperText>}\n\t\t\t\t\t</FormControl>\n\n\t\t\t\t\t{!isSubmitting ? (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSign In\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<CircularProgress />\n\t\t\t\t\t)}\n\t\t\t\t\t<Grid container>\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<Link to=\"/login\">\n\t\t\t\t\t\t\t\t{\"Have an account? Sign Up\"}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</form>\n\t\t\t</div>\n\n\t\t</Container>\n\t);\n}\n\nexport default RegisterForm","import RegisterForm from \"./RegisterForm\";\n\nexport default RegisterForm","import Chat from \"./Chat\";\n\nexport default Chat;","import React from 'react';\n\nconst Chat = () => {\n\treturn (\n\t\t<div>\n\t\t\tChat\n\t\t</div>\n\t);\n};\n\nexport default Chat;\n","import {USER_LOGIN_SUCCESS, USER_LOGIN_FAIL} from \"../actions/actionTypes\";\n\nconst initialState = {\n\tisAuthenticated:false\n};\n\nconst user = (state=initialState, action) => {\n\tconst {type, payload} = action;\n\n\tswitch (type) {\n\t\tcase USER_LOGIN_SUCCESS :\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisAuthenticated:true,\n\t\t\t\t...payload\n\t\t\t}\n\t\tcase USER_LOGIN_FAIL :\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisAuthenticated:false\n\t\t\t}\n\t}\n\treturn state\n}\n\nexport default user","import {combineReducers} from \"redux\";\nimport user from \"./user\";\n\nexport default combineReducers({\n\tuser\n})","import React, {useEffect} from 'react';\nimport LoginForm from \"./components/LoginForm\";\nimport RegisterForm from \"./components/RegisterForm\";\nimport Chat from \"./components/Chat\";\n\nimport {Provider} from 'react-redux';\nimport {createStore, applyMiddleware} from \"redux\";\nimport {composeWithDevTools} from \"redux-devtools-extension\";\nimport thunk from 'redux-thunk';\n\nimport {BrowserRouter as Router, Switch, Route, Link} from \"react-router-dom\";\nimport reducers from './store/reducers'\nimport setAuthToken from \"./utils/setAuthToken\";\nimport {loadUser} from \"./store/actions/user\";\n\nconst store = createStore(reducers, composeWithDevTools(applyMiddleware(thunk)));\n\n\nif(localStorage.token){\n\tsetAuthToken(localStorage.token)\n}\n\nconst App = () => {\n\n\tuseEffect(() => {\n\t\tstore.dispatch(loadUser())\n\t},[]);\n\n\treturn (\n\t\t<Provider store={store}>\n\t\t\t<div className=\"App\">\n\t\t\t\t<Router>\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path=\"/login\" component={LoginForm}/>\n\t\t\t\t\t\t<Route path=\"/register\" component={RegisterForm}/>\n\t\t\t\t\t\t<Route path=\"/\" component={Chat}/>\n\t\t\t\t\t</Switch>\n\t\t\t\t</Router>\n\t\t\t</div>\n\t\t</Provider>\n\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}